<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <title>AI-Nyheter</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { darkMode: "class" };</script>

  <link rel="stylesheet" href="css/styles.css" />
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 leading-relaxed">

  <!-- Header -->
  <header class="py-6 text-center flex flex-col items-center gap-2">
    <h1 class="text-3xl font-bold">AI-Nyheter</h1>
    <p class="text-gray-600 dark:text-gray-400">Snabbt sammanfattade nyheter om artificiell intelligens</p>
    <button id="toggle-dark" class="mt-2 text-sm px-4 py-1 rounded border border-gray-400 dark:border-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-1">
      <span id="toggle-icon">🌙</span> Växla tema
    </button>
  </header>

  <!-- Sök & filter -->
  <section class="max-w-4xl mx-auto px-4 mb-6 flex flex-wrap items-center gap-3 justify-between">
    <select id="catSelect" class="border rounded p-2 dark:bg-gray-700 dark:border-gray-600">
      <option value="">Alla kategorier</option>
    </select>
    <input id="search" type="text" placeholder="Sök i titlar eller sammanfattningar …" class="flex-1 border rounded p-2 dark:bg-gray-700 dark:border-gray-600" />
    <button id="apply" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">Filtrera</button>
  </section>

  <!-- Loader -->
  <div id="loader" class="flex justify-center my-8">
    <svg class="animate-spin h-8 w-8 text-indigo-600" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"/>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"/>
    </svg>
  </div>

  <!-- Innehåll -->
  <main class="max-w-4xl mx-auto px-4">
    <section id="news" class="mb-12 hidden">
      <h2 class="text-xl font-semibold mb-4">Senaste nyheterna</h2>
      <div id="news-list" class="grid gap-4 sm:grid-cols-2"></div>
      <button id="load" class="mt-6 block mx-auto bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">Ladda fler</button>

      <!-- Fel/info -->
      <div id="alert" class="hidden mt-6 p-3 rounded"></div>
    </section>
  </main>

  <!-- Scripts -->
  <script src="https://unpkg.com/tabletop@1.6.4/src/tabletop.js"></script>
  <script src="js/main-sheet.js" defer></script>
  <script>
    const html  = document.documentElement;
    const btn   = document.getElementById("toggle-dark");
    const icon  = document.getElementById("toggle-icon");
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    if (localStorage.theme === "dark" || (!localStorage.theme && prefersDark)) { html.classList.add("dark"); icon.textContent = "☀️"; }
    btn.addEventListener("click", () => {
      html.classList.toggle("dark");
      const isDark = html.classList.contains("dark");
      localStorage.theme = isDark ? "dark" : "light";
      icon.textContent   = isDark ? "☀️" : "🌙";
    });
  </script>
</body>
</html>
